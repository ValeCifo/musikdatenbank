CREATE DATABASE musikdatenbank;
USE musikdatenbank;
CREATE TABLE genre (genreID INT PRIMARY KEY NOT NULL AUTO_INCREMENT, name VARCHAR(50) NOT NULL);
CREATE TABLE album (albumID INT PRIMARY KEY NOT NULL AUTO_INCREMENT, name VARCHAR(50) NOT NULL, genreID INT, jahr INT, FOREIGN KEY(genreID) REFERENCES genre(genreID) ON UPDATE CASCADE);
CREATE TABLE titel (titelID INT PRIMARY KEY NOT NULL AUTO_INCREMENT, name VARCHAR(50) NOT NULL, dauer INT NOT NULL, jahr INT NOT NULL);
CREATE TABLE label (labelID INT PRIMARY KEY NOT NULL AUTO_INCREMENT, name VARCHAR(50) NOT NULL);
CREATE TABLE künstler (künstlerID INT PRIMARY KEY NOT NULL AUTO_INCREMENT, name VARCHAR(50) NOT NULL, labelID INT NOT NULL, FOREIGN KEY (labelID) REFERENCES label(labelID) ON UPDATE CASCADE);
CREATE TABLE album_titel (albumID INT NOT NULL, titelID INT NOT NULL, FOREIGN KEY(albumID) REFERENCES album(albumID) ON UPDATE CASCADE, FOREIGN KEY(titelID) REFERENCES titel(titelID) ON UPDATE CASCADE);
CREATE TABLE album_künstler (albumID INT NOT NULL, künstlerID INT NOT NULL, FOREIGN KEY(albumID) REFERENCES album(albumID) ON UPDATE CASCADE, FOREIGN KEY (künstlerID) REFERENCES künstler(künstlerID) ON UPDATE CASCADE);

CREATE USER php_user IDENTIFIED BY "php1234";
GRANT ALL PRIVILEGES ON musikdatenbank.* TO php_user;
